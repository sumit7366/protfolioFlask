{% extends "base.html" %}

{% block content %}
<!-- Hero Section with Profile -->
<section id="home" class="hero">
    <div class="container">
        <div class="hero-content">
            <div class="profile-section">
                <div class="profile-image-container">
                    <img src="{{ url_for('static', filename='uploads/' + profile.profile_picture) if profile and profile.profile_picture else url_for('static', filename='images/default-avatar.jpg') }}" 
                         alt="{{ profile.name if profile else 'Your Name' }}" 
                         class="profile-image">
                </div>
                <div class="profile-info">
                    <h1 class="profile-name">{{ profile.name if profile else 'Your Name' }}</h1>
                    <h2 class="profile-title">{{ profile.title if profile else 'Your Title' }}</h2>
                    <p class="profile-bio">{{ profile.bio if profile else 'Your bio goes here...' }}</p>
                    
                    <div class="profile-actions">
                        {% if profile and profile.resume %}
                        <a href="{{ url_for('static', filename='uploads/' + profile.resume) }}" class="btn btn-primary" download>
                            <i class="fas fa-download"></i> Download Resume
                        </a>
                        {% else %}
                        <a href="#" class="btn btn-primary" onclick="alert('Resume not available yet')">
                            <i class="fas fa-download"></i> Download Resume
                        </a>
                        {% endif %}
                    </div>
                    
                    <div class="social-links-hero">
                        <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fas fa-envelope"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- About Me Section -->
<section id="about" class="about-section">
    <div class="container">
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
            <div class="about-text">
                <p>{{ profile.bio if profile else 'Add your detailed about me information in the admin panel...' }}</p>
                
                <div class="personal-info">
                    <div class="info-item">
                        <strong>Email:</strong>
                        <span>{{ profile.email if profile else 'your.email@example.com' }}</span>
                    </div>
                    <div class="info-item">
                        <strong>Phone:</strong>
                        <span>{{ profile.phone if profile else '+1234567890' }}</span>
                    </div>
                    <div class="info-item">
                        <strong>Location:</strong>
                        <span>{{ profile.location if profile else 'Your City, Country' }}</span>
                    </div>
                    <div class="info-item">
                        <strong>Department:</strong>
                        <span>{{ profile.department if profile else 'Your Department' }}</span>
                    </div>
                </div>
            </div>
            
            <div class="about-stats">
                <div class="stat-card">
                    <div class="stat-number" data-count="{{ projects|length }}">0</div>
                    <div class="stat-label">Projects Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-count="{{ experiences|length }}">0</div>
                    <div class="stat-label">Years Experience</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-count="{{ technologies|length }}">0</div>
                    <div class="stat-label">Technologies</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Technologies Section -->
<section id="tech" class="tech-section">
    <div class="container">
        <h2 class="section-title">Technologies & Skills</h2>
        <div class="technologies-grid">
            {% for tech in technologies %}
            <div class="tech-card">
                <div class="tech-icon">
                    <i class="{{ tech.icon if tech.icon else 'fas fa-code' }}"></i>
                </div>
                <div class="tech-info">
                    <h3>{{ tech.name }}</h3>
                    <p>{{ tech.category }}</p>
                    <div class="skill-level">
                        <div class="skill-bar">
                            <div class="skill-progress" style="width: {{ (tech.proficiency or 3) * 20 }}%"></div>
                        </div>
                        <span class="skill-percentage">{{ (tech.proficiency or 3) * 20 }}%</span>
                    </div>
                </div>
            </div>
            {% else %}
            <div class="no-data">
                <i class="fas fa-code"></i>
                <p>No technologies added yet. Add them from the admin panel.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Projects Section -->
<section id="projects" class="projects-section">
    <div class="container">
        <h2 class="section-title">My Projects</h2>
        <div class="projects-grid">
            {% for project in projects %}
            <div class="project-card">
                {% if project.image %}
                <div class="project-image">
                    <img src="{{ url_for('static', filename='uploads/' + project.image) }}" alt="{{ project.title }}">
                </div>
                {% endif %}
                <div class="project-content">
                    <h3>{{ project.title }}</h3>
                    <p class="project-description">{{ project.description }}</p>
                    
                    {% if project.technologies %}
                    <div class="project-technologies">
                        {% for tech in project.technologies.split(',') %}
                        <span class="tech-tag">{{ tech.strip() }}</span>
                        {% endfor %}
                    </div>
                    {% endif %}
                    
                    <div class="project-links">
                        {% if project.project_url %}
                        <a href="{{ project.project_url }}" target="_blank" class="btn btn-outline">
                            <i class="fas fa-external-link-alt"></i> Live Demo
                        </a>
                        {% endif %}
                        {% if project.github_url %}
                        <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% else %}
            <div class="no-data">
                <i class="fas fa-project-diagram"></i>
                <p>No projects added yet. Add them from the admin panel.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Experience Section -->
<section id="experience" class="experience-section">
    <div class="container">
        <h2 class="section-title">Work Experience</h2>
        <div class="timeline">
            {% for exp in experiences %}
            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <div class="timeline-header">
                        <h3>{{ exp.position }}</h3>
                        <span class="timeline-date">{{ exp.start_date }} - {{ exp.end_date if exp.end_date else 'Present' }}</span>
                    </div>
                    <h4 class="timeline-company">{{ exp.company }}</h4>
                    <p class="timeline-description">{{ exp.description }}</p>
                </div>
            </div>
            {% else %}
            <div class="no-data">
                <i class="fas fa-briefcase"></i>
                <p>No experience added yet. Add them from the admin panel.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Education Section -->
<section id="education" class="education-section">
    <div class="container">
        <h2 class="section-title">Education</h2>
        <div class="education-grid">
            {% for edu in education %}
            <div class="education-card">
                <div class="education-icon">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="education-content">
                    <h3>{{ edu.degree }}</h3>
                    <h4>{{ edu.institution }}</h4>
                    <span class="education-date">{{ edu.start_date }} - {{ edu.end_date if edu.end_date else 'Present' }}</span>
                    {% if edu.field %}
                    <p class="education-field">{{ edu.field }}</p>
                    {% endif %}
                    {% if edu.description %}
                    <p class="education-description">{{ edu.description }}</p>
                    {% endif %}
                </div>
            </div>
            {% else %}
            <div class="no-data">
                <i class="fas fa-graduation-cap"></i>
                <p>No education added yet. Add them from the admin panel.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Achievements Section -->
<section id="achievements" class="achievements-section">
    <div class="container">
        <h2 class="section-title">Achievements & Certifications</h2>
        <div class="achievements-grid">
            {% for achievement in achievements %}
            <div class="achievement-card">
                <div class="achievement-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="achievement-content">
                    <h3>{{ achievement.title }}</h3>
                    {% if achievement.issuer %}
                    <p class="achievement-issuer">{{ achievement.issuer }}</p>
                    {% endif %}
                    {% if achievement.date %}
                    <span class="achievement-date">{{ achievement.date }}</span>
                    {% endif %}
                    {% if achievement.description %}
                    <p class="achievement-description">{{ achievement.description }}</p>
                    {% endif %}
                </div>
            </div>
            {% else %}
            <div class="no-data">
                <i class="fas fa-trophy"></i>
                <p>No achievements added yet. Add them from the admin panel.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact-section">
    <div class="container">
        <h2 class="section-title">Get In Touch</h2>
        <div class="contact-content">
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <h3>Email</h3>
                        <p>{{ profile.email if profile else 'your.email@example.com' }}</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <h3>Phone</h3>
                        <p>{{ profile.phone if profile else '+1234567890' }}</p>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <h3>Location</h3>
                        <p>{{ profile.location if profile else 'Your City, Country' }}</p>
                    </div>
                </div>
            </div>
            
            <div class="contact-form">
                <form id="contactForm">
                    <div class="form-group">
                        <input type="text" name="name" placeholder="Your Name" required>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Your Email" required>
                    </div>
                    <div class="form-group">
                        <input type="text" name="subject" placeholder="Subject" required>
                    </div>
                    <div class="form-group">
                        <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-paper-plane"></i> Send Message
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>
{% endblock %}